{"version":3,"sources":["main.js"],"names":["controller","ScrollMagic","Controller","tweenFadeOut","id","TweenMax","to","opacity","Scene","duration","offset","setPin","addTo","setTween","navigationInit","e","n","$","click","animate","scrollTop","top","collapseAll","css","deselect","removeAttr","window","scroll","el","document","getElementById","elWrapper","elTop","getBoundingClientRect","style","position","tableOfContents","dom","a","push","elem","name","children","b","kids","l","length","i","console","log","LEN","lastSelected","onScreen","subScreen","display","setAttribute","setTimeout","trigger","target","attr","sibling","background","closeFs","fullscreen","openFs","src","img","fe","close","imgs","getAttribute"],"mappings":"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","file":"main.js","sourcesContent":["\"use strict\";\r\n// Header Scroll\r\n(function(){\r\n\t// Init scroll controller\r\n\tvar controller = new ScrollMagic.Controller();\r\n\t// Animation Tweens\r\n\tvar tweenFadeIn = (id) => new TweenMax.to(id, 1.5, {\r\n\t    opacity: 1\r\n\t});\r\n\tvar tweenFadeOut = (id) => new TweenMax.to(id, 1.5, {\r\n\t    opacity: 0\r\n\t});\r\n\t// Header\r\n\tnew ScrollMagic.Scene({\r\n\t\t\tduration: 100,    // the scene should last for a scroll distance of 100px\r\n\t\t\toffset: 0      // start this scene after scrolling for 50px\r\n\t\t})\r\n\t\t//.addIndicators()\r\n\t\t.setPin(\"#headerWrapper\") // pins the element for the the scene's duration\r\n\t\t.addTo(controller);\r\n\tnew ScrollMagic.Scene({\r\n\t\t\tduration: 50,\r\n\t\t\toffset: 10\r\n\t\t})\r\n\t\t.setTween(tweenFadeOut(\"#instructions\"))\r\n\t\t//.addIndicators()\r\n\t\t.addTo(controller);\r\n\tnew ScrollMagic.Scene({\r\n\t\t\tduration: 200,\r\n\t\t\toffset: 100\r\n\t\t})\r\n\t\t.setTween(tweenFadeOut(\"#headerWrapper\"))\r\n\t\t//.addIndicators()\r\n\t\t.setPin(\"#headerWrapper\")\r\n\t\t.addTo(controller);\r\n})();\r\n// Sidebar\r\n(function() {\r\n\t// Pin sidebar\r\n\t$(window).scroll((e) => {\r\n\t\t// Optimize?\r\n\t\tvar el = document.getElementById(\"navbar\"),\r\n\t\t\telWrapper = document.getElementById(\"navbarWrapper\");\r\n\t\tvar elTop = elWrapper.getBoundingClientRect().top;\r\n\t\tif(elTop <= 0) {\r\n\t\t\tel.style.position = \"fixed\";\r\n\t\t} else {\r\n\t\t\tel.style.position = \"static\";\r\n\t\t}\r\n\t});\r\n\t\r\n\t// Navbar selection\r\n\tvar tableOfContents = [\r\n\t\t\t\"execSummary\",\r\n\t\t\t\"problemStatement\",\r\n\t\t\t{\r\n\t\t\t\t\"literature\": [\r\n\t\t\t\t\t\"literatureData\",\r\n\t\t\t\t\t\"literatureProcessing\",\r\n\t\t\t\t\t\"literatureResults\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"twitter\": [\r\n\t\t\t\t\t\"twitterData\",\r\n\t\t\t\t\t\"twitterProcessing\",\r\n\t\t\t\t\t\"twitterResults\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t\"conclusion\",\r\n\t\t\t\"acknowlage\",\r\n\t\t\t\"citations\",\r\n\t\t\t{\r\n\t\t\t\t\"apendicies\": [\r\n\t\t\t\t\t\"appendixA\",\r\n\t\t\t\t\t\"appendixB\",\r\n\t\t\t\t\t\"appendixC\",\r\n\t\t\t\t\t\"appendixD\",\r\n\t\t\t\t\t\"appendixE\"\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t\"code\"\r\n\t\t],\r\n\t\tdom = []; // {elem: E, children: false}\r\n\tfunction navigationInit(e, n){\r\n\t\t$(e).click(()=>{\r\n\t\t\t$('html, body').animate({\r\n\t\t\t\tscrollTop: $(\"#\" + n).offset().top - 195\r\n\t\t\t}, 400);\r\n\t\t});\r\n\t}\r\n\tfor(let a of tableOfContents){\r\n\t\tif(typeof a == \"string\") {\r\n\t\t\tnavigationInit(document.getElementById(\"ref_\" + a), a);\r\n\t\t\tdom.push({\r\n\t\t\t\telem: document.getElementById(a),\r\n\t\t\t\tname: a,\r\n\t\t\t\tchildren: false\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tfor(let b in a){\r\n\t\t\t\tvar kids = [];\r\n\t\t\t\tvar l = a[b].length;\r\n\t\t\t\tfor(let i = 0; i < l; i++){\r\n\t\t\t\t\tnavigationInit(document.getElementById(\"ref_\" + a[b][i]), a[b][i]);\r\n\t\t\t\t\tkids.push({\r\n\t\t\t\t\t\telem: document.getElementById(a[b][i]),\r\n\t\t\t\t\t\tname: a[b][i]\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tnavigationInit(document.getElementById(\"ref_\" + b), b);\r\n\t\t\t\tdom.push({\r\n\t\t\t\t\telem: document.getElementById(b),\r\n\t\t\t\t\tname: b,\r\n\t\t\t\t\tchildren: kids\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconsole.log(dom);\r\n\tfunction collapseAll(){\r\n\t\t$(\"#navbar ul ul\").css(\"display\", \"none\");\r\n\t}\r\n\tfunction deselect(){\r\n\t\t$(\"[active]\").removeAttr(\"active\");\r\n\t\t$(\"[subactive]\").removeAttr(\"subactive\");\r\n\t}\r\n\tlet LEN = dom.length;\r\n\tvar lastSelected = null;\r\n\t$(window).scroll((e) => {\r\n\t\tlet onScreen = dom[0];\r\n\t\tfor(let i = 1; i < LEN; i++){\r\n\t\t\tif(dom[i].elem.getBoundingClientRect().top < 200){\r\n\t\t\t\tonScreen = dom[i];\r\n\t\t\t} else {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(onScreen.children != false) {\r\n\t\t\tvar subScreen = onScreen.children[0];\r\n\t\t\tfor(let i = 1; i < onScreen.children.length; i++){\r\n\t\t\t\tif(onScreen.children[i].elem.getBoundingClientRect().top < 200){\r\n\t\t\t\t\tsubScreen = onScreen.children[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(lastSelected == null || lastSelected != subScreen){\r\n\t\t\t\tcollapseAll();\r\n\t\t\t\tdocument.getElementById(onScreen.name + \"Foldout\").style.display = \"block\";\r\n\t\t\t\tdeselect();\r\n\t\t\t\t// activate\r\n\t\t\t\tdocument.getElementById(\"ref_\" + subScreen.name).setAttribute(\"active\", undefined);\r\n\t\t\t\tdocument.getElementById(\"ref_\" + onScreen.name).setAttribute(\"subactive\", undefined);\r\n\t\t\t\tlastSelected = subScreen;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(lastSelected == null || lastSelected != onScreen){\r\n\t\t\t\tcollapseAll();\r\n\t\t\t\tdeselect();\r\n\t\t\t\t// activate\r\n\t\t\t\tdocument.getElementById(\"ref_\" + onScreen.name).setAttribute(\"active\", undefined);\r\n\t\t\t\t\r\n\t\t\t\tlastSelected = onScreen;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t// Trigger Scroll event for init event methods\r\n\twindow.setTimeout(() => {\r\n\t\t$(window).trigger(\"scroll\");\r\n\t}, 10);\r\n})();\r\n// Appendicies\r\n(function(){\r\n\t$(\".appendixRef\").click((e)=>{\r\n\t\tlet to = $(\"#appendix\" + $(e.target).attr(\"data-ref\")),\r\n\t\t\tsibling =  $(\"#appendix\" + $(e.target).attr(\"data-ref\") + \" + h2\");\r\n\t\t$('html, body').animate({\r\n\t\t\tscrollTop: to.offset().top - 195\r\n\t\t}, 400);\r\n\t\tsibling.css({\r\n\t\t\tbackground: \"#FFB133\"\r\n\t\t});\r\n\t\twindow.setTimeout(()=>{\r\n\t\t\tconsole.log(sibling);\r\n\t\t\tsibling.css({\r\n\t\t\t\tbackground: \"#ffffff\"\r\n\t\t\t});\r\n\t\t}, 800);\r\n\t});\r\n})();\r\n// Images\r\n(function() {\r\n\tlet fullscreen = $(\"#fullscreen\"),\r\n\t\tfe = document.getElementById(\"fullscreen\"), // iron!\r\n\t\timg = $(\"img\", fullscreen),\r\n\t\tclose = $(\"#close\"),\r\n\t\timgs = $(\"#reportBody img.fig\");\r\n\tfunction closeFs(){\r\n\t\tfullscreen.removeAttr(\"data-open\");\r\n\t\twindow.setTimeout(() => {\r\n\t\t\tfullscreen.css({\r\n\t\t\t\t\"top\": \"-100%\"\r\n\t\t\t});\r\n\t\t}, 400);\r\n\t}\r\n\tfunction openFs(src){\r\n\t\tfullscreen.css({\r\n\t\t\t\"top\": \"0%\"\r\n\t\t});\r\n\t\tfullscreen.attr(\"data-open\", \"\");\r\n\t\timg.attr(\"src\", src);\r\n\t}\r\n\tfullscreen.click((e) => {\r\n\t\tif (e.target == fe)\r\n\t\t\tcloseFs();\r\n\t});\r\n\tclose.click((e) => {\r\n\t\tcloseFs();\r\n\t});\r\n\timgs.click((e) => {\r\n\t\tconsole.log(e);\r\n\t\topenFs(e.target.getAttribute(\"src\"));\r\n\t});\r\n})();\r\n"]}